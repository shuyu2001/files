const _0x4e3b=(ms)=>new Promise((_0x3b2a)=>setTimeout(_0x3b2a,ms));
function waitForElement(selector,timeout=5000){return new Promise((_0x1a2b,_0x4c3d)=>{const _0x2e1f=Date.now();const _0x3c4a=()=>{const _0x5e2d=document.querySelector(selector);if(_0x5e2d)return _0x1a2b(_0x5e2d);if(Date.now()-_0x2e1f>timeout)return _0x4c3d(new Error(`Timeout: ${selector}`));requestAnimationFrame(_0x3c4a);};_0x3c4a();});}
async function waitAndClick(selector,timeout=5000){const _0x1b3c=await waitForElement(selector,timeout);_0x1b3c.click();return _0x1b3c;}
const _0x2d5f={tableCheckbox:"#qc-pro-main-tools div:nth-child(3) .comment-table thead tr th.ovui-th--sticky-left div label div div",button1:"#qc-pro-main-tools div:nth-child(3) .top-btns button",modalConfirm:"body > div.ovui-modal__wrap.oc-modal-wrap .ovui-modal__footer button:nth-child(2)",};
async function startJOB(keywords){try{await waitForElement(_0x2d5f.tableCheckbox);selectIndex(keywords);console.log("✅ 第一步：选择关键词完成");await _0x4e3b(1000);await waitAndClick(_0x2d5f.button1);console.log("✅ 第二步：按钮1已点击");await _0x4e3b(1000);await waitAndClick(_0x2d5f.modalConfirm);console.log("✅ 第三步：弹窗确认完成");console.log("🎉 所有自动化操作完成，页面即将刷新");location.reload();}catch(_0x3e4f){console.error("❌ 自动化出错：",_0x3e4f.message);}}
function selectIndex(keywords){if(keywords.some((keyword)=>keyword.trim()=="*")){console.log("选中所有行");const _0x1c2d=document.querySelector("#qc-pro-main-tools > div > div > div:nth-child(3) > div > div > div > div.oc-table-wrapper > div.ovui-table__container.comment-table > div.ovui-table__wrapper > table > thead > tr > th.ovui-th.ovui-th--sticky.ovui-th--sticky-left.ovui-table-cell.ovui-table-cell--center.ovui-th__no-left-border.ovui-th__no-bottom-border > div > label > div > div > div.ovui-icon.ovui-checkbox__checked-icon");_0x1c2d.click();return;}const _0x4d3e=document.querySelectorAll("table tbody tr");for(let _0x5f2a=0;_0x5f2a<_0x4d3e.length;_0x5f2a++){const _0x2c1b=_0x4d3e[_0x5f2a].querySelector("td:nth-child(2)").textContent.trim();if(keywords.some((keyword)=>_0x2c1b.includes(keyword))){const _0x3d4c=_0x4d3e[_0x5f2a].querySelector('input[type="checkbox"]');if(_0x3d4c){console.log("选中 ==>",_0x2c1b);_0x4e3b(200);_0x3d4c.click();}}}}
